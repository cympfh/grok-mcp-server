# grok-mcp-server

わたくし、X (Twitter) のリアルタイム情報検索と画像生成・編集を xAI の Grok さんにお願いできる MCP サーバーですわ。

## これは何？

Claude Code とか Claude Desktop に以下の機能を追加する拡張機能ですわね：

1. **X/Twitter 検索**: 「ねえねえ、今 X で何が流行ってるの？」ってリアルタイム情報を調べられます
2. **一般的な質問**: Grok に自由に質問して、最新の情報や推論タスクに答えてもらえます
3. **画像生成**: テキストプロンプトから画像を作成できます（Grok Imagine Image API）
4. **画像編集**: 既存の画像をテキストプロンプトで編集できます

Grok の検索能力と画像生成能力を Claude に追加できるので、リアルタイムの情報が必要なときやビジュアルコンテンツを作りたいときに便利ですの。

## セットアップ方法

### ステップ1: API キーを取得してください

まず [xAI Console](https://console.x.ai/) でアカウントを作って、API キーをゲットしてくださいな。

### ステップ2: Claude Code に MCP サーバーを追加

ターミナルで以下のコマンドを実行してください：

```bash
claude mcp add --scope user -e XAI_API_KEY=あなたのAPIキー grok -- uvx git+https://github.com/cympfh/grok-mcp-server
```

たったこれだけですわ！API キーも一緒に設定できるので、設定ファイルを手で編集する必要はありませんの。

### ステップ3: Claude Code を再起動

設定を反映させるために一度再起動してください。これで準備完了ですわ。

## 使い方

### 1. X/Twitter のリアルタイム検索

Claude Code でこんな感じにリクエストすると、X の最新情報を検索してきてくれますわよ：

```
「今日の AI 業界のニュース教えて」
「Rust の最新トレンドは？」
「○○さんの最近のツイート調べて」
```

わたくしが Grok さんに聞いてきて、結果をお伝えしますわ。

### 2. 一般的な質問もできますわ

X 検索に限らず、Grok に自由に質問することもできますの：

```
「量子コンピュータの最新動向について教えて」
「この Python コードを最適化する方法は？」
「機械学習のベストプラクティスは？」
```

X 以外の一般的な知識や推論タスクにも対応できますわよ。

### 3. 画像生成

テキストプロンプトから画像を生成できますわ：

```
「夕焼けの富士山の写真を生成して」
「サイバーパンクな東京の街並みを描いて」
「かわいい猫のイラストを作って」
```

Grok Imagine Image API を使って、1回のリクエストで最大10枚まで生成できますの。アスペクト比も指定できますわよ（1:1, 3:4, 4:3, 9:16, 16:9）。

### 4. 画像編集

既存の画像をテキストプロンプトで編集できますわ：

```
「この画像の背景を夜空に変えて」
「この写真をアニメ風にして」
「この画像に虹を追加して」
```

ファイルパス、URL、base64データのいずれかで画像を指定できますの。

## ちょっとした注意事項

- API キーは絶対に GitHub とかに push しないでくださいね！
- Grok API は有料ですので、使いすぎには注意してください
  - 画像生成: 1枚あたり $0.02
  - 画像編集: 1枚あたり $0.02 + 入力画像1枚あたり $0.002
  - チャット/検索: トークン数に応じた課金
- X の検索結果なので、情報の正確性はご自身で判断してくださいな
- 生成された画像は xAI のマネージドストレージに保存され、一定期間後に削除されます

## 開発者向け情報

ローカルで開発したい方はこちらをどうぞ：

```bash
# 依存関係のインストール
uv sync

# サーバーの起動（開発用）
uv run python server.py
```

### 技術スタック

- **Protocol**: MCP (Model Context Protocol)
- **Communication**: stdio（HTTP じゃないですわよ）
- **API**: xAI Grok API
  - チャット: `grok-4-1-fast` モデル
  - 画像生成/編集: `grok-imagine-image` モデル
- **Python**: 3.13 以上
- **依存**: httpx, mcp, xai-sdk

コードは `server.py` 一つだけのシンプル構成ですわ。読みやすいと思いますわよ。

### 実装されている MCP ツール

1. **search_x**: X/Twitter のリアルタイム検索
2. **ask_grok**: Grok への一般的な質問
3. **generate_image**: テキストプロンプトから画像生成
4. **edit_image**: 既存画像の編集

## ライセンス

MIT ライセンスですわ。ご自由にお使いくださいな。

---

何か問題があったら Issue を立てていただければ対応しますわ。よろしくお願いいたします！
